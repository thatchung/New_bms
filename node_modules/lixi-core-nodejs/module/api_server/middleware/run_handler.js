module.exports = server =>
    server.registerMiddleware({
        key: 'run_handler',
        summary: 'thực hiện xử lý request',
        handler: async function({ context, server, request, response, api }) {
            if (api.handler) {
                context.result = await api.handler({
                    context,
                    server,
                    api,
                    request,
                    response,
                    request_uuid: context.request_uuid,
                    meta: context.meta,
                    args: context.args
                });
            }
        }
    });
