let GetModuleOfFile = require('./get_module_of_file');

module.exports = function({ aliases, document, file, modu }) {
    if (!modu) modu = GetModuleOfFile({ aliases, document, file });
    if (!modu) return;

    let key = (modu.name + '/' + file.substr(modu.dir.length + 1))
        .split('.')
        .slice(0, -1)
        .join('.')
        .replace(/\//g, '_');

    let name = key;
    let path = file.substr(modu.dir.length + 1);
    let type = path.split('/')[0];

    return { file, key, name, module: modu.name, path, type };
};
