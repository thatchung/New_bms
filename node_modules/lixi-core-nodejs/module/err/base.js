/** khởi tạo lỗi cơ bản
 * @param {Error} error lỗi mặc định
 * @param {string} code mã định danh lỗi
 * @param {string} message câu thông báo lỗi
 * @param {object} data dữ liệu mở rộng
 */

module.exports = expo =>
    (expo.BaseError = class BaseError extends Error {
        constructor({ error, code, message, data } = {}) {
            if (!message && error) message = error.message;
            super(message);

            this.name = this.constructor.name;
            Error.captureStackTrace(this, this.constructor);

            this.code = code;
            this.data = data;
        }
    });
