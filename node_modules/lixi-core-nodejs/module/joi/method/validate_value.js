/** validate nhanh biến
 * @param {object} value dữ liệu cần validate
 * @param {joi.schema} schema cấu trúc kiểm tra
 * @param {object} options các thiết lập khác
 * @returns {object} kết quả kiểm tra
 */

module.exports = joi =>
    (joi.validateValue = function(value, schema, options) {
        let result = joi.validate(
            value[Object.keys(value)[0]],
            schema.label(Object.keys(value)[0]),
            options
        );

        if (result.error) throw result.error;
        return result.value;
    });
