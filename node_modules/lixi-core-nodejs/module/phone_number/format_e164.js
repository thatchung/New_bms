/** định dạng về lại số E164
 * @param {string} phone số điện thoại theo định dạng quốc gia
 * @param {string} country mã quốc gia
 * @returns {string} số E164
 */

let { PhoneNumberUtil, PhoneNumberFormat } = require('google-libphonenumber');

module.exports = expo =>
    (expo.formatE164 = function({ phone, country }) {
        let phoneUtil = PhoneNumberUtil.getInstance();

        phone = phoneUtil.parseAndKeepRawInput(phone, country);
        phone = phoneUtil.format(phone, PhoneNumberFormat.E164);

        return phone;
    });
