/** lấy quốc gia của số điện thoại
 * @param {string} phone số điện thoại theo chuẩn E164
 * @returns {string} mã quốc gia
 */

let { PhoneNumberUtil } = require('google-libphonenumber');

module.exports = expo =>
    (expo.getCountry = function({ phone }) {
        let phoneUtil = PhoneNumberUtil.getInstance();

        return phoneUtil.getRegionCodeForNumber(
            phoneUtil.parseAndKeepRawInput(phone)
        );
    });
